extends ../../layout/default.pug 
include ../../mixins/pagination.pug
block main 
    style.
      /* Cài đặt chung */
      .product-card {
        border: none;
        transition: transform 0.2s, box-shadow 0.2s;
        cursor: pointer;
        text-decoration: none;
        color: inherit;
      }
      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        text-decoration: none
      }
      .card-img-top {
        width: 100%;
        height: 250px;
        object-fit: cover;
        border-radius: 8px 8px 0 0;
      }
      .card-body {
        padding: 1rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      .card-title {
        font-weight: 500;
        color: #333;
        line-height: 1.3em;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-overflow: ellipsis;
        min-height: 2.6em; /* Giữ cố định chiều cao cho tên sản phẩm */
      }
      .author-text {
        font-size: 0.9em;
        color: #666;
        margin-bottom: 1rem;
        min-height: 1.2em; /* Giữ cố định chiều cao cho tên tác giả */
      }
      .card-price {
        font-size: 1.1em;
        color: #e74c3c;
        font-weight: bold;
      }
      .card-rating i {
        color: #f39c12;
      }
      /* Thiết kế nút "Thích" với viền */
      .btn-like {
        color: #e74c3c;
        border: 1px solid #e74c3c;
        background: none;
        border-radius: 5px;
        font-weight: bold;
        padding: 0.25rem 0.5rem;
        transition: background 0.2s, color 0.2s;
      }
      .btn-like:hover {
        background: #e74c3c;
        color: white;
      }

    .container.mt-5
      h1.text-center.mb-4.text-primary Danh Sách Sản Phẩm

      .row.row-cols-1.row-cols-md-2.row-cols-lg-4.g-4
        each product in products
          .col.mb-4
            a.product-card.card.h-100.shadow-sm(href=`/san-pham/${product._id}`)
              if product.image
                img.card-img-top(src=product.image alt=product.name)
              else
                img.card-img-top(src="/images/default-image.jpg" alt="Hình ảnh mặc định")

              .card-body
                //- Phần tiêu đề
                h5.card-title= product.name
                //- Phần tác giả
                p.author-text.text-muted= `Tác giả: ${product.author}`
                
                //- Phần giá và đánh giá
                .d-flex.justify-content-between.align-items-center.mb-3
                  span.card-price= `${product.price.toLocaleString()}₫`
                  .card-rating.d-flex.align-items-center
                    span.me-1
                      i.fas.fa-star
                    span.text-muted= product.starRate 
                
      +pagination(currentPage, totalPage)
                  
